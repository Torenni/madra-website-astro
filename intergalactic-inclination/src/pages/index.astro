---
import Layout from "../layouts/Layout.astro";

const base = (import.meta.env.BASE_URL || "/").replace(/\/$/, "");
const withBase = (path) => `${base}/${path}`.replace(/\/+/g, "/");

// Image in: /public/images/covers/cover_page.webp
const coverImg = withBase("images/covers/cover_page.webp");
---

<Layout>
  <!-- Full-width hero (true IEG-style) -->
  <section class="w-full overflow-hidden">
    <!-- NO max-w, NO horizontal padding -->
    <div class="grid md:grid-cols-2 min-h-[80vh] w-full">
      
      <!-- LEFT: Blue MADRA panel -->
      <div
        class="
          hero-left
          px-8 py-14
          md:px-12 md:py-20
          flex items-center
        "
      >
        <!-- Constrain text ONLY (IEG pattern) -->
        <div class="mx-auto max-w-xl">
          <span class="badge fade-up delay-1">Featured Report</span>

          <h1 class="mt-4 text-4xl font-bold tracking-tight md:text-5xl fade-up delay-2">
            MADRA
          </h1>

          <p class="mt-5 text-base text-white/85 md:text-lg fade-up delay-3">
            A professional services firm providing strategy, project management,
            monitoring & evaluation, and data solutions.
          </p>

          <div class="mt-8 flex flex-wrap gap-3 fade-up delay-4">
            <a
              class="rounded-md bg-white px-5 py-3 text-sm font-semibold text-slate-900 hover:bg-white/90"
              href={withBase("reports/")}
            >
              View Reports
            </a>

            <a
              class="rounded-md border border-white/35 px-5 py-3 text-sm font-semibold text-white hover:bg-white/10"
              href={withBase("about/")}
            >
              About MADRA
            </a>
          </div>
        </div>
      </div>

      <!-- RIGHT: Image edge-to-edge -->
      <div class="relative min-h-[80vh]">
        <img
          src={coverImg}
          alt="MADRA cover image"
          class="absolute inset-0 h-full w-full object-cover"
          loading="eager"
          decoding="async"
        />

        <!-- Dark overlay (IEG feel) -->
        <div class="absolute inset-0 bg-slate-900/50"></div>

        <!-- Subtle vignette -->
        <div class="pointer-events-none absolute inset-0 shadow-[inset_0_0_160px_rgba(0,0,0,0.45)]"></div>
      </div>

    </div>
  </section>

  <style>
    /* Blue panel (IEG-inspired) */
    .hero-left {
      background: linear-gradient(135deg, #0b4f73 0%, #0b2f4a 55%, #081b2c 100%);
      color: #fff;
    }

    /* Fade-up animation */
    .fade-up {
      opacity: 0;
      transform: translateY(12px);
      animation: fadeUp 700ms ease-out forwards;
    }
    .delay-1 { animation-delay: 80ms; }
    .delay-2 { animation-delay: 160ms; }
    .delay-3 { animation-delay: 240ms; }
    .delay-4 { animation-delay: 320ms; }

    @keyframes fadeUp {
      to { opacity: 1; transform: translateY(0); }
    }

    /* Featured badge */
    .badge {
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      font-weight: 700;
      font-size: .75rem;
      letter-spacing: .08em;
      text-transform: uppercase;
      padding: .45rem .7rem;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, .25);
      color: #fff;
      background: rgba(0, 0, 0, .25);
      backdrop-filter: blur(6px);
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .fade-up {
        opacity: 1;
        transform: none;
        animation: none;
      }
    }
  </style>
</Layout>
